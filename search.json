[
  {
    "objectID": "Posts/2024-05-17-what is the footy forest’s form variable and how does it work/Index.html",
    "href": "Posts/2024-05-17-what is the footy forest’s form variable and how does it work/Index.html",
    "title": "What is the Footy Forest’s power variable and how does it work",
    "section": "",
    "text": "The way I measure a team’s power in the Footy Forest is entirely based on a commonly used rating formula called Elo. This formula was developed to rate and rank the relative skill levels chess players, but it can also be applied to team sports like Australian rules football. Originally developed by Arpad Elo, a Hungarian-American physics professor, the Elo formula has become one of the most popular ways of ranking players and teams across many competitive domains.\n\nHow the Elo Formula Works\nAt its core, the power variable is a measure of a team’s recent form. The Elo rating system assumes that the chance of one team beating another is a based on a rating difference between the form of the two teams. This rating takes into account the previous results not only between these two teams but against all teams in the competition. If two teams have equal ratings, we’d expect each team to have an equal chance of winning the game. But as the rating gap widens, the probability favours the higher-rated team.\nAfter each game, the Elo formula updates the ratings of the winning and losing teams based on the pre-game ratings and the margin. The winner gains rating some points from the loser, with the number of points exchanged being higher when there is an upset. So, if your team is ranked towards the bottom and you beat a strongly ranked team, your team will get a large boost in its rating. So, the Footy Forest updates the ratings after every game to make sure it is updating every team’s form based on the latest results.\nOf course, the Elo ratings are just one input and in the Footy Forest this measure of form is combined with other data like a rating for each selected player in each team, experience at the venue, and travel, to build a fairly sophisticated AFL prediction model. But the Elo / power variable is the starting point for the model because my tests show that it is the single most powerful predictor of match outcomes.\nIt also means I can calculate power rankings for each team, such as the table below. Power here is simply refers to the raw Elo rating. This ranking is much more useful than looking at the ladder, because your team could have simply beaten a bunch of lowly ranked teams.\nIn the Footy Forest, the form variable uses the information from the Elo formula. It presents the ratings in a relative sense, where the home team’s form is subtracted from the away team’s form. It then compares this result to every form rating for every game since 2015, so that you can see the measure in this historical context.\nSo in the table below, you can see not only that West Coast’s form is very low compared to Melbourne’s (at -89.9) but also that the form disadvantage is close to the highest relative disadvantage we’ve seen since 2015 (which would be -100).\n\nThese ratings are updated after every game so check out the Footy Forest’s latest team power rankings."
  },
  {
    "objectID": "Posts/2024-07-07-Launch-of-the-Footy-Forest/Index.html",
    "href": "Posts/2024-07-07-Launch-of-the-Footy-Forest/Index.html",
    "title": "Launch of the Footy Forest",
    "section": "",
    "text": "I’ve spent the summer programming and training a machine learning model to predict AFL footy games. I’m not doing this for betting but simply hoping to do better than the average expert tipster over the year.\nYou can follow me on Facebook if you’re interested in finding out how I go. No doubt I’ll learn a fair bit during the year and might update the model as I learn, but if it does fairly well, I might register it with Squiggle in 2025. Some people might be interested in my motivation for doing this. Part of my PhD project involved researching how people who tended to think intuitively were more likely make poor decisions compared to those who used analytic thinking styles.\nThinking about this I often reflected upon all the intuitive heuristics that people – including me – use for things like footy tipping. I also started to use machine learning for predictive analysis. During the summer I started to investigate whether I could use these skills to develop a purely data-driven approach to footy tipping, that would override intuition.\nAnd this is the result of those musings – a machine learning model that overrides intuition for the pure enjoyment of analysing the chance that your footy team might get the four points on the weekend."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Frequently asked questions",
    "section": "",
    "text": "Why is this called the “Footy Forest”?\nThe statistical techniques used in this model are “tree-based”, so I thought I’d take the tree concept and run with it like Ed Langdon on a fast break. Also it predicts … footy.\nWhat variables does the Footy Forest use?\nIt uses four variables. These are:\n\neach team’s form, based on an Elo formula.\nvenue experience\nplayer ratings for each selected team, and\nthe distance each team has had to travel.\n\nEach of these are calculated for each team and then converted as a relative measure showing the advantage for the home team compared to its opponent on the day.\nHow can I check the performance of this model?\nI update the performance metrics on the home page every week. I’ve also entered the model in the official AFL footy tipping competition, so you can check the performance by searching there.\n\n\n\nAre you doing this to make money?\nHell, no. I am doing this for fun and for a challenge. Yes, I am a nerd. And yes, I am obsessed by Australian football.\nShould I use this model to place bets?\nDefinitely not. Betting is for mugs and niff-naffs.\nShould I use this model for footy tipping?\nAbsolutely. Go bananas.\n\n\n\nWhat program did you use to write this model?\nI use R for this project, which is what I use for a lot of my academic work. The website you’re looking at now is also produced with R with RStudio and Quarto.\nDoes this model use ChatGPT, or a similar large language model?\nNo. This model is one hundred per cent pure, old fashioned, home-grown human-written computer code, born free right here in the real world.\nIsn’t that a line from The Matrix?\nYes. Yes it is.\nWhat techniques are used for this model?\nThis model is an ensemble of models compiled with the R Tidymodels package. It uses a stacked combination of gradient boosted trees, generalised linear models and random forest models to make its predictions.\nWhere do you get your data from?\nI use the FitzRoy package for R. It is wonderful. Cheers to the legends to have developed it and maintain it.\n\n\n\nWhat is Australian football or the Australian Football League?\nMy friend, let me introduce you to by far the best sport on the entire planet.\n\n\n\nWhat football team do you barrack for?\nI barrack for the original Australian football team – the Melbourne Demons.\nWho is your favourite footballer?\nAs a kid my favourite player was Stephen (Stinga) Tingay. But right now it is probably young Caleb Windsor. I guess I have a thing for wingers.\nWhat is your background?\nI am a quantitative social scientist who is mainly interested in researching empirical problems in science communication. While this gives me some useful skills in statistical analysis, and I have helped to publish some academic work using machine learning techniques, there are many more qualified people than me who have produced similar models. Prior to this I worked in various communication roles.\nAre you a real doctor?\nI am not a medical doctor. I have a PhD in science from ANU.\nHow frequently are you actually asked these questions?\nNever. I’ve never been asked any of these questions."
  },
  {
    "objectID": "about.html#model-questions",
    "href": "about.html#model-questions",
    "title": "Frequently asked questions",
    "section": "",
    "text": "Why is this called the “Footy Forest”?\nThe statistical techniques used in this model are “tree-based”, so I thought I’d take the tree concept and run with it like Ed Langdon on a fast break. Also it predicts … footy.\nWhat variables does the Footy Forest use?\nIt uses four variables. These are:\n\neach team’s form, based on an Elo formula.\nvenue experience\nplayer ratings for each selected team, and\nthe distance each team has had to travel.\n\nEach of these are calculated for each team and then converted as a relative measure showing the advantage for the home team compared to its opponent on the day.\nHow can I check the performance of this model?\nI update the performance metrics on the home page every week. I’ve also entered the model in the official AFL footy tipping competition, so you can check the performance by searching there."
  },
  {
    "objectID": "about.html#betting-and-tipping",
    "href": "about.html#betting-and-tipping",
    "title": "Frequently asked questions",
    "section": "",
    "text": "Are you doing this to make money?\nHell, no. I am doing this for fun and for a challenge. Yes, I am a nerd. And yes, I am obsessed by Australian football.\nShould I use this model to place bets?\nDefinitely not. Betting is for mugs and niff-naffs.\nShould I use this model for footy tipping?\nAbsolutely. Go bananas."
  },
  {
    "objectID": "about.html#technical-questions",
    "href": "about.html#technical-questions",
    "title": "Frequently asked questions",
    "section": "",
    "text": "What program did you use to write this model?\nI use R for this project, which is what I use for a lot of my academic work. The website you’re looking at now is also produced with R with RStudio and Quarto.\nDoes this model use ChatGPT, or a similar large language model?\nNo. This model is one hundred per cent pure, old fashioned, home-grown human-written computer code, born free right here in the real world.\nIsn’t that a line from The Matrix?\nYes. Yes it is.\nWhat techniques are used for this model?\nThis model is an ensemble of models compiled with the R Tidymodels package. It uses a stacked combination of gradient boosted trees, generalised linear models and random forest models to make its predictions.\nWhere do you get your data from?\nI use the FitzRoy package for R. It is wonderful. Cheers to the legends to have developed it and maintain it."
  },
  {
    "objectID": "about.html#afl-questions",
    "href": "about.html#afl-questions",
    "title": "Frequently asked questions",
    "section": "",
    "text": "What is Australian football or the Australian Football League?\nMy friend, let me introduce you to by far the best sport on the entire planet."
  },
  {
    "objectID": "about.html#personal-questions",
    "href": "about.html#personal-questions",
    "title": "Frequently asked questions",
    "section": "",
    "text": "What football team do you barrack for?\nI barrack for the original Australian football team – the Melbourne Demons.\nWho is your favourite footballer?\nAs a kid my favourite player was Stephen (Stinga) Tingay. But right now it is probably young Caleb Windsor. I guess I have a thing for wingers.\nWhat is your background?\nI am a quantitative social scientist who is mainly interested in researching empirical problems in science communication. While this gives me some useful skills in statistical analysis, and I have helped to publish some academic work using machine learning techniques, there are many more qualified people than me who have produced similar models. Prior to this I worked in various communication roles.\nAre you a real doctor?\nI am not a medical doctor. I have a PhD in science from ANU.\nHow frequently are you actually asked these questions?\nNever. I’ve never been asked any of these questions."
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "Paris 2024 Olympic tallies done your way\n\n\n\n\n\n\nOlympics\n\n\nDescriptive statistics\n\n\n\nEveryone’s a winner when you pick your own metrics\n\n\n\n\n\n3-August-2024\n\n\nMatt Nurse\n\n\n\n\n\n\n\n\n\n\n\n\nPlayer stability\n\n\n\n\n\n\nAFL football\n\n\nInferential statistics\n\n\n\nWinning teams don’t change the magnets\n\n\n\n\n\n30-July-2024\n\n\nMatt Nurse\n\n\n\n\n\n\n\n\n\n\n\n\nWhat is the Footy Forest’s power variable and how does it work\n\n\n\n\n\n\nAFL football\n\n\nMachine learning\n\n\n\nElo elo elo\n\n\n\n\n\n17-May-2024\n\n\nMatt Nurse\n\n\n\n\n\n\n\n\n\n\n\n\nUpdate v1.1\n\n\n\n\n\n\nAFL football\n\n\nMachine learning\n\n\n\nNew variables and a new hope\n\n\n\n\n\n19-April-2024\n\n\nMatt Nurse\n\n\n\n\n\n\n\n\n\n\n\n\nLaunch of the Footy Forest\n\n\n\n\n\n\nAFL football\n\n\nMachine learning\n\n\n\nLet’s bounce the ball\n\n\n\n\n\n7-March-2024\n\n\nMatt Nurse\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "Posts/2024-07-30-Player stability/Index.html",
    "href": "Posts/2024-07-30-Player stability/Index.html",
    "title": "Player stability",
    "section": "",
    "text": "If you’ve watched sport for any length of time you know that teams who keep a consistent lineup tend to win more games. Coaches talk about their strive to keep a core group on the park throughout the season in the pursuit of sporting glory. Some of them lament that they can’t because of injuries or the need to blood new players. Sometimes their plans are ruined by experienced players who grow tired of losing and find fortune elsewhere - or just simply retire.\nI recently came across an analysis which seeks to quantify this association between team stability and performance. The analysis is no doubt designed to be a quick and simple approach. It correlates AFL teams’ current ladder positions with the number of players used by each team so far, by ranking them from the teams that used the most players to those who used the least. By doing this they find a correlation coefficient of 0.81 - a strong (and presumably statistically significant) correlation.\nThere are a few issues with this approach, although I don’t dispute the overall conclusion. The first issue is that it uses only part of a season, which may not paint a very useful picture. For example, some teams may have had a relatively easy draw so far. The other issue is that it has used ranked data which has several limitations. First, ranked data don’t account for the magnitude of differences between the teams. A good example of this is the current AFL ladder where Sydney is first, Brisbane is second and Fremantle is third. But when you look at the number of wins, Sydney is way in front with 56 premiership points while Brisbane and Fremantle both have 50. A distance of three ranks between these teams doesn’t tell the complete story here. The other issue is that using statistical tests designed for continous data with ranked data can reduce statistical power, leading to misleading results.\n\nAnalysis\nOne way to avoid these problems is to look at a team’s performance according to their number of wins across a whole season. One challenge in doing that is that we need to find complete seasons where teams have played the same number of games. Looking at recent seasons, we can’t use 2020 because that was the year that the AFL restricted the season to just 17 games instead of the more usual 22 to help deal with COVID-19. Next, 2023 is out because the season was extended to 23 games. And believe it or not we cannot use 2015 because an Adelaide coach was killed just before their clash against the Cats, leading to the cancellation of that game. So to get a sufficient and sensible sample, I’ve gathered data from the season 2016 to 2019 and 2021 to 2022. That’s 6 seasons for each of the 18 teams, which gives us 108 observations to work with.\nTo get the most statistical power out of this data we can treat wins more appropriately as a count variable, rather than a rank or a continuous one. Plotting these wins for each team and eyeballing them gives us what looks like a negative correlation.\n\n\n\n\n\n\n\n\n\nBut as always it pays to do a proper analysis. Here I’m going with a generalised linear model which is suitable for the poisson distribution usually inherent in count variables this this one.\n\n\n\n\n\n \nWins\n\n\nPredictors\nIncidence Rate Ratios\nCI\np\n\n\n(Intercept)\n212.77\n94.89 – 474.68\n&lt;0.001\n\n\nnum players\n0.92\n0.90 – 0.94\n&lt;0.001\n\n\nObservations\n108\n\n\nR2 Nagelkerke\n0.452\n\n\n\n\n\n\n\nThe results in the table above confirm that there is a statistically significant and negative correlation between the number of players a team uses throughout the year and the number of wins they should expect to get.\nOne of the downsides of using a generalised linear model is that the Incidence Rate Ratio coefficient numbers are pretty hard to interpret. So its customary to provide a plot of the marginal effects from the model, which usually provides a more complete picture than a simple coefficient anyway.\n\n\n\n\n\n\n\n\n\nHere we can see that - generally speaking - teams that use 30 players during the season can expect to win about 16-21 games. While those that swap out the magnets 45 times tend to win just over five. But its also worth knowing that the relationship is curved, showing the exponentially greater wins for those teams that aren’t changing things around.\nOf course this begs the question of how different teams have performed recently, now that we have some detailed insight on how this relationship works.\n\n\n\n\n\n\n\n\n\nHere we can see some interesting things. My own team, Melbourne made quite a few changes in 2019 and by 2021 of course, they won a flag - a year where things were incredibly stable. The West Coast Eagles have slipped from a team that had quite a lot of success until 2022 when they performed badly and made plenty of changes. North Melbourne not had the luxury of stability and their performance progressively suffered.\nOf course that’s not to say that simply turning over a team will have an effect. The causality runs in both directions. By that I mean that teams that are performing badly will try many new things to get back on track, and teams that have to play inexperienced players will likely take a performance hit - at least for a while.\nWill the trend continue this year? We should wait until the end of the year for that, but it certainly seems to be."
  },
  {
    "objectID": "Posts/2024-08-03-Paris-2024-Olympic-tallies-done-your-way/Index.html",
    "href": "Posts/2024-08-03-Paris-2024-Olympic-tallies-done-your-way/Index.html",
    "title": "Paris 2024 Olympic tallies done your way",
    "section": "",
    "text": "Inspired by some in the US media who insist on posting Paris 2024 Olympic medal tallies by total medals, and the Choose Your Own Adventure book series, this table lets you sort by your metric of choice, including per capita and adjusted for your country’s GDP. Updated every hour."
  },
  {
    "objectID": "Posts/2024-04-19-update_v1.1/Index.html",
    "href": "Posts/2024-04-19-update_v1.1/Index.html",
    "title": "Update v1.1",
    "section": "",
    "text": "So today I’m releasing a new version which introduces three new features:\n1. The model will factor in the distance each team has traveled as a fourth predictor (along with a form Elo formula, a rating of each player in each selected team, and how often the team plays home games at the venue).\n2. It centres and scales each of these four predictors from -100 to +100, meaning that I will be able to give an easy-to-interpret assessment of the reasons for each prediction (see below).\n3. Each week it selects a few of the empirically best of potentially 68 possible machine learning models in a weighted stack rather than just one. These include random forest models, gradient boosted trees and generalised linear models with elastic net regularisation.\nI’m hoping these changes will lead to more accurate predictions and a better display of what the model is looking at before making each decision."
  }
]